{% extends "layout.html" %}}

{% block content %}
    <div>
    <div class="container">
        <div class="row">
            <div class="col-md-7 col-sm-4" >
            <a class="btn btn-success" style="margin: 10px" href="/user/add" target="_blank"> {# blank表示在新页面打开#}
                <i class="bi bi-plus-circle-fill"></i>
                Add User
            </a>
            </div>
            <div class="col-md-5 col-sm-8 ">
                <form method="get">
                <div class="d-flex flex-row">
                    <input class="form-control me-2" type="search" name="q" value="{{ search_data }}" style="margin: 10px" placeholder="Search" aria-label="Search">
                    <button class="btn btn-outline-success" type="submit" style="margin: 10px; width: 100px"><strong>Search</strong></button>
                </div>
                </form>
            </div>
        </div>
        <ul class="list-group">
            <li class="list-group-item list-group-item-dark">
                <i class="bi bi-calendar2-event-fill"></i>
                <strong>User List</strong>
            </li>
            <li class="list-group-item">
                <table class="table">
                      <thead>
                        <tr>
                          <th scope="col">ID</th>
                          <th scope="col">UserName</th>
                            <th scope="col">Gender</th>
                            <th scope="col">Age</th>
                          <th scope="col">AccountBalance</th>
                            <th scope="col">Create Date</th>
                          <th scope="col">Dept</th>
                          <th scope="col">Operation</th>
                        </tr>
                      </thead>
                      <tbody>
                      {% for obj in queryset %}
                        <tr>
                          <th scope="row">{{ obj.user_id }}</th>
                            <td>{{ obj.name}}</td>
                            <td>{{ obj.get_gender_display}}</td>
                            <td>{{ obj.age}}</td>
                            <td>{{ obj.account}}</td>
                            <td>{{ obj.creat_time}}</td>
                            <td>{{ obj.department.title}}</td>
                          <td>
                              <a class="btn btn-primary btn-sm" href="/user/{{ obj.user_id }}/edit">Edit</a>
                              <a class="btn btn-danger btn-sm" href="/user/delete/?nid={{ obj.user_id }}">Delete</a>
                          </td>
                        </tr>
                      {% endfor %}
                      </tbody>
                    </table>
            </li>
        </ul>
        <div style="display: flex; justify-content: center;"> {# 居中 #}
                    {{ page_nav_string }}
        </div>
    </div>
</div>
{% endblock %}